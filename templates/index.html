<!DOCTYPE html>
<html>
<head>
    <title>PINN Cryosurgery Temperature Prediction</title>
</head>
<body>
    <h1>PINN Cryosurgery Temperature Prediction</h1>
    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}
    {% if result %}
        <p style="color:green;">Result: {{ result }}</p>
    {% endif %}
    {% if show_download %}
        <a href="/download-image" download>Download Temperature Distribution Image</a>
    {% endif %}
    <form method="post">
        <label>Select Mode:</label><br>
        <input type="radio" name="mode" value="1" checked> Single Point Prediction<br>
        <input type="radio" name="mode" value="2"> Slice/Grid Visualization<br><br>

        <div id="single-point-fields">
            <label>Time (t):</label>
            <input type="number" step="any" name="t"><br>
            <label>Radius (r):</label>
            <input type="number" step="any" name="r"><br>
            <label>Height (z):</label>
            <input type="number" step="any" name="z"><br>
        </div>

        <div id="grid-fields" style="display:none;">
            <label>Times (comma-separated, e.g. 0, 30, 60):</label>
            <input type="text" name="times"><br>
        </div>

        <br>
        <input type="submit" value="Submit">
    </form>
    <script>
        const modeRadios = document.getElementsByName('mode');
        const singlePointFields = document.getElementById('single-point-fields');
        const gridFields = document.getElementById('grid-fields');
        for (const radio of modeRadios) {
            radio.addEventListener('change', function() {
                if (this.value === '1') {
                    singlePointFields.style.display = '';
                    gridFields.style.display = 'none';
                } else {
                    singlePointFields.style.display = 'none';
                    gridFields.style.display = '';
                }
            });
        }
    </script>
</body>
</html>
